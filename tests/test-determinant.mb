float function determinant(matrix a){
    int dim = rows(a);
    float scalar = 1.0;

    // Row ops on matrix a to get in upper triangle form
    for(int fd = 0; fd < dim; fd=fd+1){
        for(int i = fd + 1; i < dim; i=i+1){
            scalar = a[i,fd] / a[fd,fd];
            for(int j = 0; j < dim; j=j+1){
                a[i,j] = a[i,j] - scalar * a[fd,j];
            }
        }
    }

    // Once matrix a is in upper triangle form
    // Multiply entries on the diagonal
    float product = 1.0;
    for(int i = 0; i < dim; i = i+1){
        product = product * a[i,i];
    }
    return product;
}


int function main(){
    matrix a = [1.0, 2.0; 3.0, 4.0];
    float det_a = determinant(a);
    printf(det_a);  // -2

    matrix b = [2.0, 0.0, 2.0; 1.0, 1.0, 2.0; 2.0, 1.0, 8.0];
    float det_b = determinant(b);
    printf(det_b);  // 0

    return 0;
}